ifelse(variable == "depression_W3", 2, NA))))
dep_long$variable <- "depression"
dep_long <- arrange(dep_long, surveyid)
dep_long <- mutate(dep_long, onset = ifelse(first_sext == "W2" | first_sext == "W3", "normative",
ifelse(first_sext == "W1", "early", first_sext)))
curve1 <- lmer(value ~ time + (time|surveyid), data = dep_long, REML = FALSE)
curve2 <- lmer(value ~ time + onset + (time|surveyid), data = dep_long, REML = FALSE)
curve3 <- lmer(value ~ time * onset + (time|surveyid), data = dep_long, REML = FALSE)
curve4 <- lmer(value ~ time +
onset +
#race_3 +
ACE_cat_1 +
(time|surveyid),
data = dep_long, REML = FALSE)
curve5 <- lmer(value ~ time * (onset +
#race_3 +
ACE_cat_1) +
(time|surveyid),
data = dep_long, REML = FALSE)
anova(curve1, curve2, curve3, curve4, curve5)
ggplot(dep_long, aes(time, value, shape = onset, colour = onset)) +
stat_summary(fun.y=mean, geom = "point") +
#stat_smooth(se = FALSE) +
#stat_summary(fun.data=mean_se, geom = "errorbar", width=.05) +
stat_summary(aes(y=fitted(curve4), linetype=onset), fun.y=mean, geom="line") +
theme_bw(base_size = 10) +
ylim(0, 24) +
geom_line(y=13) +
annotate("text", label = "clinical threshold", x = 1, y = 13.6, size = 3.5, colour = "black") +
ylab("K6 Psychological Distress Score") +
xlab("Grade") +
scale_x_continuous(breaks = 0:2, labels=c("9th", "10th", "11th"))
install.packages("shiny")
library(shiny)
shinyUI(fluidPage(
titlePanel("Household Income and the Poverty Line"),
sidebarLayout(
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c(1:10),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):")
,
mainPanel(
textOutput("msg")
)
)
)))
shinyUI(fluidPage(
titlePanel("Household Income and the Poverty Line"),
sidebarLayout(
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c(1:10),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0)
,
mainPanel(
textOutput("msg")
)
)
)))
shinyUI(fluidPage(
titlePanel("Household Income and the Poverty Line"),
sidebarLayout(
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c(1:10),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0)))
,
mainPanel(
textOutput("msg")
)
)
)
shinyUI(fluidPage(
titlePanel("Household Income and the Poverty Line"),
mainPanel(
textOutput("msg")
)
)
,
sidebarLayout(
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c(1:10),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0)))
)
shinyUI(fluidPage(
titlePanel("Household Income and the Poverty Line"),
mainPanel(
textOutput("msg")
)
))
shinyUI(
pageWithSidebar(
headerPanel("Household Income and the Poverty Line"),
,
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c("One",
"Two",
"Three",
"Four",
"Five",
"Six",
"Seven",
"Eight",
"Nine",
"Ten"),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0))),
submitButton('Submit')
),
mainPanel(
h3('Here are your results:')
h4('You indicated a household size of '),
verbatimTextOutput("inputValue"),
h4(". Based on your stated income you are at "),
verbatimTextOutput("prediction"),
h4(" of the poverty threshold.")
)
))
shinyUI(
pageWithSidebar(
headerPanel("Household Income and the Poverty Line"),
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c("One",
"Two",
"Three",
"Four",
"Five",
"Six",
"Seven",
"Eight",
"Nine",
"Ten"),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0))),
submitButton('Submit')
),
mainPanel(
h3('Here are your results:')
h4('You indicated a household size of '),
verbatimTextOutput("inputValue"),
h4(". Based on your stated income you are at "),
verbatimTextOutput("prediction"),
h4(" of the poverty threshold.")
)
))
shinyUI(
pageWithSidebar(
headerPanel("Household Income and the Poverty Line"),
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c("One",
"Two",
"Three",
"Four",
"Five",
"Six",
"Seven",
"Eight",
"Nine",
"Ten"),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0),
submitButton('Submit')
),
mainPanel(
h3('Here are your results:')
h4('You indicated a household size of '),
verbatimTextOutput("inputValue"),
h4(". Based on your stated income you are at "),
verbatimTextOutput("prediction"),
h4(" of the poverty threshold.")
)
))
shinyUI(
pageWithSidebar(
headerPanel("Household Income and the Poverty Line"),
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c("One",
"Two",
"Three",
"Four",
"Five",
"Six",
"Seven",
"Eight",
"Nine",
"Ten"),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0),
submitButton('Submit')
),
mainPanel(
h3('Here are your results:'),
h4('You indicated a household size of '),
verbatimTextOutput("inputValue"),
h4(". Based on your stated income you are at "),
verbatimTextOutput("prediction"),
h4(" of the poverty threshold.")
)
))
40890+4160
45050+4160
shinyUI(
pageWithSidebar(
headerPanel("Household Income and the Poverty Line"),
sidebarPanel(
helpText("A number of government assistance programs determine
eligibibilty based on how much a household earns in
relation to the poverty line.  Eligibility guidelines
often speak in terms of percentages (e.g. Must earn less
250% of the poverty threshold to qualify).
This app can be used to convert your current household
income into a percertage of the poverty threshold based
on poverty levels established in January 2016.  Note that
the poverty threshold varies based on household size."),
selectInput("household_size",
label = "Choose the number of people in your
household (including yourself):",
choices = c("One",
"Two",
"Three",
"Four",
"Five",
"Six",
"Seven",
"Eight",
"Nine",
"Ten"),
selected = "None"),
numericInput("household_income",
label = "Please enter your current household income
(Do not use a dollar sign):", value = 0),
submitButton('Submit')
),
mainPanel(
h3('Here are your results:'),
h4('You indicated a household size of '),
verbatimTextOutput("house_size"),
h4(". Based on your stated income of"),
verbatimTextOutput("house_income"),
h4("you are at "),
verbatimTextOutput("prediction"),
h4("% of the poverty threshold.")
)
))
shinyServer(
function(input, output) {
if (input$household_size=="One") { y<-11880}
if (input$household_size=="Two") { y<-16020}
if (input$household_size=="Three") { y<-20160}
if (input$household_size=="Four") { y<-24300}
if (input$household_size=="Five") { y<-28440}
if (input$household_size=="Six") { y<-32580}
if (input$household_size=="Seven") { y<-36730}
if (input$household_size=="Eight") { y<-40890}
if (input$household_size=="Nine") { y<-45050}
if (input$household_size=="Ten") { y<-49210}
output$house_size <- renderPrint({input$household_size})
output$house_income <- renderPrint({input$household_income})
output$prediction <- round(input$household_income / y * 100, digits = 0)
)
shinyServer(
function(input, output) {
if (input$household_size=="One") { y<-11880}
if (input$household_size=="Two") { y<-16020}
if (input$household_size=="Three") { y<-20160}
if (input$household_size=="Four") { y<-24300}
if (input$household_size=="Five") { y<-28440}
if (input$household_size=="Six") { y<-32580}
if (input$household_size=="Seven") { y<-36730}
if (input$household_size=="Eight") { y<-40890}
if (input$household_size=="Nine") { y<-45050}
if (input$household_size=="Ten") { y<-49210}
output$house_size <- renderPrint({input$household_size})
output$house_income <- renderPrint({input$household_income})
output$prediction <- round(input$household_income / y * 100, digits = 0)
}
)
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
percent_poverty <- function(household_size, household_income) {
if (household_size=="One") { y<-11880}
if (household_size=="Two") { y<-16020}
if (household_size=="Three") { y<-20160}
if (household_size=="Four") { y<-24300}
if (household_size=="Five") { y<-28440}
if (household_size=="Six") { y<-32580}
if (household_size=="Seven") { y<-36730}
if (household_size=="Eight") { y<-40890}
if (household_size=="Nine") { y<-45050}
if (household_size=="Ten") { y<-49210}
prediction <- round(household_income / y * 100, digits = 0)
prediction
}
percent_poverty("Five", 40000)
shiny::runApp('~/Desktop/Git/DataProducts')
percent_poverty <- function(household_size, household_income) {
if (household_size=="One") { y<-11880}
if (household_size=="Two") { y<-16020}
if (household_size=="Three") { y<-20160}
if (household_size=="Four") { y<-24300}
if (household_size=="Five") { y<-28440}
if (household_size=="Six") { y<-32580}
if (household_size=="Seven") { y<-36730}
if (household_size=="Eight") { y<-40890}
if (household_size=="Nine") { y<-45050}
if (household_size=="Ten") { y<-49210}
prediction <- round(household_income / y * 100, digits = 0)
output <- paste("Based on your stated household size of", household_size,
" and your household income of $", household_income, ", your family is currently at",
prediction, "% of the povery threshold.")
}
percent_poverty("Five", 40000)
output
percent_poverty <- function(household_size, household_income) {
if (household_size=="One") { y<-11880}
if (household_size=="Two") { y<-16020}
if (household_size=="Three") { y<-20160}
if (household_size=="Four") { y<-24300}
if (household_size=="Five") { y<-28440}
if (household_size=="Six") { y<-32580}
if (household_size=="Seven") { y<-36730}
if (household_size=="Eight") { y<-40890}
if (household_size=="Nine") { y<-45050}
if (household_size=="Ten") { y<-49210}
prediction <- round(household_income / y * 100, digits = 0)
output <- paste("Based on your stated household size of", household_size,
" and your household income of $", household_income, ", your family is currently at",
prediction, "% of the povery threshold.")
output
}
percent_poverty("Five", 40000)
percent_poverty <- function(household_size, household_income) {
if (household_size=="One") { y<-11880}
if (household_size=="Two") { y<-16020}
if (household_size=="Three") { y<-20160}
if (household_size=="Four") { y<-24300}
if (household_size=="Five") { y<-28440}
if (household_size=="Six") { y<-32580}
if (household_size=="Seven") { y<-36730}
if (household_size=="Eight") { y<-40890}
if (household_size=="Nine") { y<-45050}
if (household_size=="Ten") { y<-49210}
prediction <- round(household_income / y * 100, digits = 0)
output <- paste0("Based on your stated household size of", household_size,
"and your household income of $", household_income, ", your family is currently at",
prediction, "% of the povery threshold.")
output
}
percent_poverty("Five", 40000)
percent_poverty <- function(household_size, household_income) {
if (household_size=="One") { y<-11880}
if (household_size=="Two") { y<-16020}
if (household_size=="Three") { y<-20160}
if (household_size=="Four") { y<-24300}
if (household_size=="Five") { y<-28440}
if (household_size=="Six") { y<-32580}
if (household_size=="Seven") { y<-36730}
if (household_size=="Eight") { y<-40890}
if (household_size=="Nine") { y<-45050}
if (household_size=="Ten") { y<-49210}
prediction <- round(household_income / y * 100, digits = 0)
output <- paste0("Based on your stated household size of ", household_size,
" and your household income of $", household_income, ", your family is currently at ",
prediction, "% of the povery threshold.")
print(output)
}
percent_poverty("Five", 40000)
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
?paste0
shiny::runApp('~/Desktop/Git/DataProducts')
shiny::runApp('~/Desktop/Git/DataProducts')
library(rsconnect)
setwd("~/Desktop/Git/DataProducts/")
deployApp()
author("first_deck")
library(slidify)
author("first_deck")
slidify("index.Rmd")
library(knitr)
browseURL("index.Rmd")
browseURL(url = "image.Rmd")
browseURL(browser =  "image.Rmd")
publish(title = 'Data_Products_slides', 'index.html', host = 'rpubs')
publish(title = 'Data_Products_slides', 'index.rmd', host = 'rpubs')
library(slidify)
publish_rpubs(title = "Data Products slides", html_file = "index.html")
